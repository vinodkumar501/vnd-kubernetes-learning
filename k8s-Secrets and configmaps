https://www.bogotobogo.com/DevOps/Docker/Docker_Kubernetes_MongoDB_MongoExpress.php

MongoDB secrets
Secrets (MongoDB username/password) should be in place before we do any MongoDB deployment since MongoDB pods need to access the secrets. So, let's create the secrets with base64 encoded:

->$ echo -n 'username' | base64       ---> '' or " " or without quotes also work
dXNlcm5hbWU=

->$ echo -n 'password' | base64              
cGFzc3dvcmQ=



------------------------- mongodb-secret.yaml ------------------------

apiVersion: v1
kind: Secret
metadata:
     name: mongo-secret
     namespace: vnd
type: Opaque
data:
    mongo-username: dXNlcm5hbWU=
    mongo-password: cGFzc3dvcmQ=


------------------------- mongodb-deployment.yaml -------------------------

apiVersion: apps/v1
kind: Deployment
metadata:
   name: mongo-express
   namespace: vnd
   labels:
      app: mongo
spec:
   replicas: 1
   selector:
       matchLabels:
           app: mongo-exp
   template:
      metadata:
         labels:
           app: mongo-exp
      spec:
        containers:
        - name: mongo
          image: mongo-express
          ports:
            - containerPort: 27017
          env:
           - name: ME_CONFIG_MONGODB_ADMINUSERNAME
             valueFrom:
              secretKeyRef:
                 name: mongo-secret
                 key: mongo-username
           - name: ME_CONFIG_MONGODB_ADMINPASSWORD
             valueFrom:
               secretKeyRef: 
                  name: mongo-secret
                  key: mongo-password
